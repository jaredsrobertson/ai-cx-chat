@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==================== BASE STYLES ==================== */
@layer base {
  :root {
    --header-height: 4rem;
  }

  html {
    @apply font-sans;
  }

  html, body, #__next {
    @apply h-full;
  }

  body {
    @apply bg-gradient-to-b from-brand-blue to-gray-200 dark:from-dark-brand-background dark:to-dark-brand-ui-03;
    @apply bg-fixed text-brand-text-primary dark:text-dark-brand-text-primary;
    overflow: hidden;
  }

  .header-container {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--header-height);
    background: transparent;
    z-index: 20;
  }

  .content-container {
    position: absolute;
    top: var(--header-height);
    bottom: 0;
    left: 0;
    right: 0;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    scroll-snap-type: y mandatory;
    -webkit-overflow-scrolling: touch;
  }

  .content-container::-webkit-scrollbar {
    display: none;
  }

  .footer-container {
    /* footer styles */
  }
  
  .scroll-section {
    @apply snap-start;
    height: calc(100vh - var(--header-height));
    display: flex;
    align-items: center;
    justify-content: center;
  }
}


/* ==================== COMPONENT STYLES ==================== */
@layer components {
  /* Buttons */
  .btn-primary {
    @apply bg-brand-blue hover:bg-brand-navy text-white dark:bg-dark-brand-blue dark:hover:bg-blue-700 dark:text-brand-text-primary font-medium px-6 py-2.5 rounded-md transition-all duration-300 shadow-sm hover:shadow-md disabled:opacity-50;
  }

  .btn-secondary {
    @apply bg-brand-ui-01 hover:bg-gray-200 text-brand-text-primary dark:bg-dark-brand-ui-03 dark:hover:bg-gray-600 dark:text-dark-brand-text-primary font-medium px-6 py-2.5 rounded-md border border-brand-ui-03 dark:border-dark-brand-ui-03 transition-all duration-300 shadow-sm hover:shadow-md disabled:opacity-50;
  }

  /* Cards */
  .card {
    @apply bg-brand-ui-01/80 dark:bg-dark-brand-ui-01/80 backdrop-blur-md rounded-lg shadow-lg border border-brand-ui-03/50 dark:border-dark-brand-ui-03/50 p-4 md:p-6;
  }

  /* Input fields */
  .input-field {
    @apply w-full px-4 py-3 bg-brand-ui-01 dark:bg-dark-brand-ui-01 border border-brand-ui-03 dark:border-dark-brand-ui-03 rounded-md focus:ring-2 focus:ring-brand-blue dark:focus:ring-dark-brand-blue focus:border-transparent outline-none transition-all duration-200 text-brand-text-primary dark:text-dark-brand-text-primary;
  }

  /* Chat Widget */
  .chat-widget-container {
    @apply fixed z-30 w-[400px] h-[calc(100vh-8.5rem)] ease-in-out;
    max-height: 700px;
    bottom: 4.5rem;
    right: 1.5rem;
  }

  .chat-widget-inner {
    @apply w-full h-full rounded-xl flex flex-col overflow-hidden bg-brand-ui-02 dark:bg-dark-brand-ui-02 border border-brand-ui-03 dark:border-dark-brand-ui-03;
    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  }

  .chat-fab {
    @apply fixed z-40 w-16 h-16;
    bottom: 1.5rem;
    right: 1.5rem;
  }

  /* Mobile Overrides for Chat Widget */
  @media (max-width: 768px) {
    .chat-widget-container {
      @apply w-full h-full top-0 left-0 right-0 bottom-0 max-h-full rounded-none;
    }

    .chat-widget-inner {
      @apply rounded-none shadow-none border-none;
    }

    /* Hide the FAB when the widget is open on mobile, as it's not needed */
    .chat-fab {
      @apply hidden;
    }
  }
}